{% extends "base.twig" %}

{% block content %}
<div class="budget-form">
    <h1>Novo Orçamento</h1>
    
    <form method="POST" action="/budgets/create" id="budgetForm">
        <div class="form-group">
            <label for="client_id">Cliente</label>
            <select name="client_id" required>
                <option value="">Selecione o cliente</option>
                {% for client in clients %}
                    <option value="{{ client.id }}">{{ client.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div id="itemsContainer">
            <h3>Items do Orçamento</h3>
            <button type="button" onclick="addItem()">Adicionar Item</button>
            
            <div class="item-template" style="display: none">
                <select name="items[type][]">
                    <option value="small_format">Pequeno Formato</option>
                    <option value="large_format">Grande Formato</option>
                </select>
                <input type="number" name="items[quantity][]" placeholder="Quantidade">
                <input type="text" name="items[description][]" placeholder="Descrição">
                <button type="button" onclick="removeItem(this)">Remover</button>
            </div>
        </div>

        <div class="form-group">
            <label>Nível de Urgência</label>
            <select name="urgency_level" required>
                <option value="low">Baixa</option>
                <option value="medium">Média</option>
                <option value="high">Alta</option>
            </select>
        </div>

        <button type="submit" class="btn-primary">Gerar Orçamento</button>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script src="/assets/js/budget.js"></script>
{% endblock %}
